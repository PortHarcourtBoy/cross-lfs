Submitted By: Jim Gifford <jim@linuxfromscratch.org>
Date: 2007-09-01
Upstream Status: Unknown
Origin: Jim Gifford
Description: Change /lib/udev to /lib64/udev

diff -Naur udev-115.orig/extras/ata_id/Makefile udev-115/extras/ata_id/Makefile
--- udev-115.orig/extras/ata_id/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/ata_id/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -16,7 +16,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev/
 
diff -Naur udev-115.orig/extras/cdrom_id/Makefile udev-115/extras/cdrom_id/Makefile
--- udev-115.orig/extras/cdrom_id/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/cdrom_id/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -16,7 +16,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev
 
diff -Naur udev-115.orig/extras/collect/Makefile udev-115/extras/collect/Makefile
--- udev-115.orig/extras/collect/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/collect/Makefile	2007-09-01 23:21:10.000000000 -0700
@@ -11,7 +11,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev/
 
diff -Naur udev-115.orig/extras/edd_id/Makefile udev-115/extras/edd_id/Makefile
--- udev-115.orig/extras/edd_id/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/edd_id/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -16,7 +16,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev/
 
diff -Naur udev-115.orig/extras/firmware/firmware.sh udev-115/extras/firmware/firmware.sh
--- udev-115.orig/extras/firmware/firmware.sh	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/firmware/firmware.sh	2007-09-01 23:23:42.000000000 -0700
@@ -1,6 +1,6 @@
 #!/bin/sh -e
 
-FIRMWARE_DIRS="/lib/firmware /usr/local/lib/firmware"
+FIRMWARE_DIRS="/lib64/firmware /usr/local/lib64/firmware"
 
 err() {
     echo "$@" >&2
diff -Naur udev-115.orig/extras/firmware/Makefile udev-115/extras/firmware/Makefile
--- udev-115.orig/extras/firmware/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/firmware/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -13,7 +13,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev/
 
diff -Naur udev-115.orig/extras/floppy/Makefile udev-115/extras/floppy/Makefile
--- udev-115.orig/extras/floppy/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/floppy/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -16,7 +16,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev/
 
diff -Naur udev-115.orig/extras/path_id/Makefile udev-115/extras/path_id/Makefile
--- udev-115.orig/extras/path_id/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/path_id/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -13,7 +13,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev/
 
diff -Naur udev-115.orig/extras/rule_generator/Makefile udev-115/extras/rule_generator/Makefile
--- udev-115.orig/extras/rule_generator/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/rule_generator/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -13,7 +13,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev
 
diff -Naur udev-115.orig/extras/rule_generator/write_cd_rules udev-115/extras/rule_generator/write_cd_rules
--- udev-115.orig/extras/rule_generator/write_cd_rules	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/rule_generator/write_cd_rules	2007-09-01 23:15:07.000000000 -0700
@@ -13,7 +13,7 @@
 
 RULES_FILE="/etc/udev/rules.d/70-persistent-cd.rules"
 
-. /lib/udev/rule_generator.functions
+. /lib64/udev/rule_generator.functions
 
 find_next_available() {
 	raw_find_next_available "$(find_all_rules 'SYMLINK+=' "$1")"
diff -Naur udev-115.orig/extras/rule_generator/write_net_rules udev-115/extras/rule_generator/write_net_rules
--- udev-115.orig/extras/rule_generator/write_net_rules	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/rule_generator/write_net_rules	2007-09-01 23:15:07.000000000 -0700
@@ -18,7 +18,7 @@
 
 RULES_FILE='/etc/udev/rules.d/70-persistent-net.rules'
 
-. /lib/udev/rule_generator.functions
+. /lib64/udev/rule_generator.functions
 
 interface_name_taken() {
 	local value="$(find_all_rules 'NAME=' $INTERFACE)"
diff -Naur udev-115.orig/extras/scsi_id/Makefile udev-115/extras/scsi_id/Makefile
--- udev-115.orig/extras/scsi_id/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/scsi_id/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -19,7 +19,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev/
 
diff -Naur udev-115.orig/extras/usb_id/Makefile udev-115/extras/usb_id/Makefile
--- udev-115.orig/extras/usb_id/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/usb_id/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -16,7 +16,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev/
 
diff -Naur udev-115.orig/extras/volume_id/lib/Makefile udev-115/extras/volume_id/lib/Makefile
--- udev-115.orig/extras/volume_id/lib/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/volume_id/lib/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -5,8 +5,8 @@
 # Released under the GNU General Public License, version 2.
 #
 includedir = 	${prefix}/usr/include
-libdir =	${prefix}/lib
-usrlibdir =	${prefix}/usr/lib
+libdir =	${prefix}/lib64
+usrlibdir =	${prefix}/usr/lib64
 
 INSTALL = install -c
 INSTALL_DATA  = ${INSTALL} -m 644
diff -Naur udev-115.orig/extras/volume_id/Makefile udev-115/extras/volume_id/Makefile
--- udev-115.orig/extras/volume_id/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/extras/volume_id/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -14,7 +14,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev/
 
diff -Naur udev-115.orig/Makefile udev-115/Makefile
--- udev-115.orig/Makefile	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/Makefile	2007-09-01 23:15:07.000000000 -0700
@@ -94,7 +94,7 @@
 sbindir =	${prefix}/sbin
 usrbindir =	${prefix}/usr/bin
 usrsbindir =	${prefix}/usr/sbin
-libudevdir =	${prefix}/lib/udev
+libudevdir =	${prefix}/lib64/udev
 mandir =	${prefix}/usr/share/man
 configdir =	${etcdir}/udev
 udevdir =	/dev
diff -Naur udev-115.orig/udev_rules.c udev-115/udev_rules.c
--- udev-115.orig/udev_rules.c	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/udev_rules.c	2007-09-01 23:19:11.000000000 -0700
@@ -170,9 +170,9 @@
 		}
 	}
 
-	/* allow programs in /lib/udev called without the path */
+	/* allow programs in /lib64/udev called without the path */
 	if (strchr(argv[0], '/') == NULL) {
-		strlcpy(program, "/lib/udev/", sizeof(program));
+		strlcpy(program, "/lib64/udev/", sizeof(program));
 		strlcat(program, argv[0], sizeof(program));
 		argv[0] = program;
 	}
diff -Naur udev-115.orig/udev_rules_parse.c udev-115/udev_rules_parse.c
--- udev-115.orig/udev_rules_parse.c	2007-08-23 16:29:54.000000000 -0700
+++ udev-115/udev_rules_parse.c	2007-09-01 23:15:07.000000000 -0700
@@ -445,9 +445,9 @@
 				if (pos)
 					pos[0] = '\0';
 
-				/* allow programs in /lib/udev called without the path */
+				/* allow programs in /lib64/udev called without the path */
 				if (strchr(file, '/') == NULL) {
-					strlcpy(file, "/lib/udev/", sizeof(file));
+					strlcpy(file, "/lib64/udev/", sizeof(file));
 					strlcat(file, value, sizeof(file));
 					pos = strchr(file, ' ');
 					if (pos)
