Submitted By: Joe Ciccone <jciccone@gmail.com>
Date: 2010-08-03
Initial Package Version: 6.1
Origin: Upstream
Upstream Status: From Upstream
Description: Contains all upstream patches up to 6.1-002

diff -Naur readline-6.1.orig/complete.c readline-6.1/complete.c
--- readline-6.1.orig/complete.c	2009-11-29 23:39:30.000000000 +0000
+++ readline-6.1/complete.c	2010-08-04 01:25:55.061576555 +0000
@@ -2138,7 +2138,7 @@
 	 All other entries except "." and ".." match. */
       if (filename_len == 0)
 	{
-	  if (_rl_match_hidden_files == 0 && HIDDEN_FILE (entry->d_name))
+	  if (_rl_match_hidden_files == 0 && HIDDEN_FILE (convfn))
 	    continue;
 
 	  if (convfn[0] != '.' ||
@@ -2219,7 +2219,7 @@
 		temp[dirlen++] = '/';
 	    }
 
-	  strcpy (temp + dirlen, entry->d_name);
+	  strcpy (temp + dirlen, convfn);
 	}
       else
 	temp = savestring (convfn);
diff -Naur readline-6.1.orig/patchlevel readline-6.1/patchlevel
--- readline-6.1.orig/patchlevel	2008-11-18 16:01:14.000000000 +0000
+++ readline-6.1/patchlevel	2010-08-04 01:25:55.949701897 +0000
@@ -1,3 +1,3 @@
 # Do not edit -- exists only for use by patch
 
-0
+2
diff -Naur readline-6.1.orig/readline.h readline-6.1/readline.h
--- readline-6.1.orig/readline.h	2009-08-27 03:05:55.000000000 +0000
+++ readline-6.1/readline.h	2010-08-04 01:25:55.949701897 +0000
@@ -39,9 +39,9 @@
 #endif
 
 /* Hex-encoded Readline version number. */
-#define RL_READLINE_VERSION	0x0600		/* Readline 6.0 */
+#define RL_READLINE_VERSION	0x0601		/* Readline 6.1 */
 #define RL_VERSION_MAJOR	6
-#define RL_VERSION_MINOR	0
+#define RL_VERSION_MINOR	1
 
 /* Readline data structures. */
 
