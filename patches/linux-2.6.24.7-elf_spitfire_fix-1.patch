Submitted By: Joe Ciccone <jciccone@gmail.com>
Date: 2008-02-03
Initial Package Version: 2.6.24
Upstream Status: Not Submitted
Origin: Joe Ciccone
Description: Ensure that spitfire.h is available for asm-sparc64/elf.h and
             ensure that the same header also includes spitfire.h out of
             kernel space.

diff -Naur linux-2.6.24.orig/include/asm-sparc64/elf.h linux-2.6.24/include/asm-sparc64/elf.h
--- linux-2.6.24.orig/include/asm-sparc64/elf.h	2008-01-24 17:58:37.000000000 -0500
+++ linux-2.6.24/include/asm-sparc64/elf.h	2008-02-03 12:35:17.000000000 -0500
@@ -10,8 +10,8 @@
 #ifdef __KERNEL__
 #include <asm/processor.h>
 #include <asm/uaccess.h>
-#include <asm/spitfire.h>
 #endif
+#include <asm/spitfire.h>
 
 /*
  * Sparc section types
diff -Naur linux-2.6.24.orig/include/asm-sparc64/Kbuild linux-2.6.24/include/asm-sparc64/Kbuild
--- linux-2.6.24.orig/include/asm-sparc64/Kbuild	2008-01-24 17:58:37.000000000 -0500
+++ linux-2.6.24/include/asm-sparc64/Kbuild	2008-02-03 12:35:17.000000000 -0500
@@ -16,6 +16,7 @@
 header-y += psrcompat.h
 header-y += pstate.h
 header-y += reg.h
+header-y += spitfire.h
 header-y += uctx.h
 header-y += utrap.h
 header-y += watchdog.h
