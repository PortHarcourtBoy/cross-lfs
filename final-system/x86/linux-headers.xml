<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
  "http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-system-linux-headers" role="wrap">
  <?dbhtml filename="linux-headers.html"?>

  <title>Linux-Headers-&linux-headers-version;</title>

  <indexterm zone="ch-system-linux-headers">
    <primary sortas="a-Linux-Headers">Linux-Headers</primary>
  </indexterm>

  <sect2 role="package">
    <title/>

    <para>The Linux Headers package contains the
    <quote>sanitized</quote> kernel headers.</para>

    <segmentedlist>
      <segtitle>&dependencies;</segtitle>

      <seglistitem>
        <seg>Coreutils and Findutils</seg>
      </seglistitem>
    </segmentedlist>

  </sect2>

  <sect2 role="installation">
    <title>Installation of Linux-Headers</title>

    <para os="a">For years it has been common practice to use <quote>raw</quote>
    kernel headers (straight from a kernel tarball) in <filename
    class="directory">/usr/include</filename>, but over the last few
    years, the kernel developers have taken a strong stance that this
    should not be done. This gave birth to the Linux-LLH-Headers Project,
    which was designed to maintain an API stable version of the Linux
    headers. But recently this project stopped producing updates. Cross-LFS
    decided to come up with our own santized headers and placed them in
    the book.</para>

    <para os="b">Install the header files:</para>

<screen><userinput>install -dv /usr/include/{asm,linux,mtd,scsi}
cp -av include/asm-i386/* /usr/include/asm
cp -av include/linux/* /usr/include/linux
cp -av include/mtd/* /usr/include/mtd
cp -av include/net/* /usr/include/net
cp -av include/scsi/* /usr/include/scsi
cp -av include/sound/* /usr/include/sound</userinput></screen>

    <para os="c">Ensure that all the headers are owned by
    <systemitem class="username">root</systemitem>:</para>

<screen os="d"><userinput>chown -Rv root:root /usr/include/{asm,linux,mtd,net,scsi,sound}</userinput></screen>

    <para os="e">Make sure the users can read the headers:</para>

<screen os="f"><userinput>find /usr/include/{asm,linux,mtd,net,scsi,sound} -type d -exec chmod -v 755 {} \;
find /usr/include/{asm,linux,mtd,net,scsi,sound} -type f -exec chmod -v 644 {} \;</userinput></screen>

  </sect2>

  <sect2 id="contents-linux-headers" role="content">
    <title>Contents of Linux-Headers</title>

    <segmentedlist>
      <segtitle>Installed headers</segtitle>

      <seglistitem>
        <seg>/usr/include/{asm,linux}/*.h</seg>
      </seglistitem>
    </segmentedlist>

    <variablelist>
      <bridgehead renderas="sect3">Short Descriptions</bridgehead>
      <?dbfo list-presentation="list"?>
      <?dbhtml list-presentation="table"?>

      <varlistentry id="linux-headers">
        <term><filename
        class="headerfile">/usr/include/{asm,linux}/*.h</filename></term>
        <listitem>
          <para>The Linux API headers</para>
          <indexterm zone="ch-system-linux-headers linux-headers">
            <primary
            sortas="e-/usr/include/{asm,linux}/*.h">/usr/include/{asm,linux}/*.h</primary>
          </indexterm>
        </listitem>
      </varlistentry>

    </variablelist>

  </sect2>

</sect1>
