<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "../../general.ent">
  %general-entities;
]>

<sect1 id="ch-temp-system-coreutils" role="wrap">
  <?dbhtml filename="coreutils.html"?>

  <title>Coreutils-&coreutils-version;</title>

  <indexterm zone="ch-temp-system-coreutils">
    <primary sortas="a-Coreutils">Coreutils</primary>
    <secondary>temporary system</secondary>
  </indexterm>

  <xi:include xmlns:xi="http://www.w3.org/2003/XInclude"
  href="../../final-system/common/coreutils.xml"
  xpointer="xpointer(//*[@role='package'])"/>

  <sect2 role="installation">
    <title>Installation of Coreutils</title>

    <para os="ba">Coreutils has some issues when cross-compiling. So we
    define the items cross-compiling doesn't like:</para>

<screen os="bc"><userinput>echo "ac_cv_func_setvbuf_reversed=yes" &gt;&gt; config.cache</userinput></screen>

    <para os="bd">Prepare Coreutils for compilation:</para>

<screen os="be"><userinput>./configure --prefix=/tools --cache-file=config.cache \
    --build=${CLFS_HOST} --host=${CLFS_TARGET}</userinput></screen>

    <para os="m1">When the uname patch was applied. A change was made to
    <filename>uname.c</filename>. This change is causing the man Makefile to
    try and regenerate the man page for uname. Since the compiled uname can
    not be executed the build will fail. The following command gives the
    uname man page a newer timestamp then <filename>uname.c</filename>.</para>

<screen os="m2"><userinput>touch man/uname.1</userinput></screen>

    <para os="bf">Compile the package:</para>

<screen os="bg"><userinput>make</userinput></screen>

    <para os="bh">Install the package:</para>

<screen os="bi"><userinput>make install</userinput></screen>

  </sect2>

  <sect2 role="content">
    <title/>

    <para>Details on this package are located in <xref
    linkend="contents-coreutils" role="."/></para>

  </sect2>

</sect1>
