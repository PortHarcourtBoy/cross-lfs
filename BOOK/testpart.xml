<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE part PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
  <!ENTITY % general-entities SYSTEM "general.ent">
  %general-entities;
]>

  <part id="part0" xmlns:c="http://schema.cross-lfs.org/book">
    <?dbhtml filename="part0.html"?>
    <title>Test Part</title>

    <chapter>
      <?dbhtml dir="chapter0"?>
      <?dbhtml filename="chapter0.html"?>
      <title>Chapter 0</title>

      <sect1>
        <?dbhtml filename="sect0.html"?>
        <title>Sect 0</title>
        <para>Testing... 1.. 2.. 3..</para>
      </sect1>

<c:package id="ch-system-bash" c:multibuild="false">
  <c:title>Bash</c:title>
  <c:version>4.0.1</c:version>
  <c:description>The Bash package contains the Bourne-Again SHell.</c:description>

  <c:install>

    <c:para>Apply this patch</c:para>

<c:command>patch -Np1 -i ../&bash-branch_update-patch;</c:command>

    <c:para>Prepare the package for compilation</c:para>

<c:command>./configure -prefix=/usr -bindir=/bin \
    -without-bash-malloc -with-installed-readline</c:command>

    <c:para>Compile the package:</c:para>

<c:command>make</c:command>

    <c:para>To test the results, issue:
    <c:command>make tests</c:command>.</c:para>

    <c:para>Install the package:</c:para>

<c:command>make htmldir=/usr/share/doc/bash-&bash-version; install</c:command>

    <c:para>Run the newly compiled <c:command>bash</c:command> program (replacing
    the one that is currently being executed):</c:para>

<c:command c:nodump="true">exec /bin/bash -login +h</c:command>

    <c:note>
      <c:para>(note+warn) The parameters used make the <c:command>bash</c:command>
      process an interactive login shell and continue to disable hashing so
      that new programs are found as they become available.</c:para>
    </c:note>

  </c:install>

</c:package>

<c:package id="ch-system-test" c:multibuild="true">
  <c:title>TestPackage</c:title>
  <c:version>1.2.3</c:version>
  <c:description>The Test package contains a <c:command>test</c:command>.</c:description>

  <c:install>

    <c:para>Prepare the package for compilation</c:para>

<c:command c:multilib="false">./configure --prefix=/usr</c:command>
<c:command c:multilib="true" c:bits="32">CC="gcc ${BUILD32}" ./configure --prefix=/usr</c:command>
<c:command c:multilib="true" c:bits="n32">CC="gcc ${BUILDN32}" ./configure --prefix=/usr</c:command>
<c:command c:multilib="true" c:bits="64">CC="gcc ${BUILD64}" ./configure --prefix=/usr</c:command>

    <c:para>Compile <c:filename>the</c:filename> package:</c:para>

<c:command>make</c:command>

    <c:para>To test the results, issue:
    <c:command>make tests</c:command>.</c:para>

    <c:para>Install the package:</c:para>

<c:command>make install</c:command>

  </c:install>

</c:package>

    </chapter>

  </part>
